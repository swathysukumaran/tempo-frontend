import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;

// const genAI = new GoogleGenerativeAI("AIzaSyCdl3Zk0qYGXSn4y57tth2hcC5tqyPtpcw");
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate travel plan for location: Las vegas for 3 days for couple with cheap budget, give me hotel options list with hotel name,hotel address,price,hotel image url,geo coordinates, rating,descriptions and suggest itinary with place name,place details, place image url,geo coordinates,ticket pricing,rating,time travel for each of the locations for 3 days with each day plan with best time to visit in json format\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a possible 3-day Las Vegas itinerary for a couple on a budget, along with hotel options and details, all in JSON format. I\'ve focused on free or low-cost activities and affordable accommodations.\n\n```json\n{\n  "trip_details": {\n    "location": "Las Vegas, Nevada",\n    "duration": "3 days",\n    "budget": "Cheap/Budget-Friendly",\n    "travelers": "Couple"\n  },\n  "hotel_options": [\n    {\n      "hotel_name": "Circus Circus Hotel & Casino",\n      "hotel_address": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "Starting from $40-$80 per night",\n       "hotel_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/23/16/40/e1/circus-circus-hotel-casino.jpg?w=1200&h=-1&s=1",\n      "geo_coordinates": {\n        "latitude": 36.1343,\n        "longitude": -115.1655\n      },\n      "rating": 3.5,\n      "description": "A classic Vegas option with a carnival atmosphere, free circus acts, and affordable rooms. A bit older but budget-friendly."\n    },\n        {\n      "hotel_name": "The LINQ Hotel + Experience",\n      "hotel_address": "3535 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "Starting from $60-$120 per night",\n      "hotel_image_url":"https://media.cntraveler.com/photos/5ab157e92d7e9d655897f319/16:9/w_2560%2Cc_limit/LINQ-Pool-1.jpg",\n      "geo_coordinates": {\n        "latitude": 36.1172,\n        "longitude": -115.1699\n      },\n      "rating": 4.0,\n      "description": "A modern option on the LINQ Promenade, offers good value, a lively atmosphere, and easy access to many attractions. "\n    },\n    {\n      "hotel_name": "Excalibur Hotel & Casino",\n        "hotel_address": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "Starting from $50-$90 per night",\n      "hotel_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/4b/d5/1d/excalibur-hotel-casino.jpg?w=1200&h=-1&s=1",\n      "geo_coordinates": {\n        "latitude": 36.0985,\n        "longitude": -115.1742\n      },\n      "rating": 3.7,\n      "description": "A themed hotel with a medieval castle design, affordable prices, and family-friendly amenities."\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "theme": "Exploring the Strip",\n      "best_time_to_visit": "Morning and Evening",\n      "activities": [\n        {\n          "place_name": "Bellagio Conservatory & Botanical Garden",\n          "place_details": "A stunning indoor garden with elaborate floral displays that change seasonally. Free to enter.",\n           "place_image_url": "https://www.vegas.com/wp-content/uploads/2023/03/Bellagio-Conservatory-Spring.jpg",\n          "geo_coordinates": {\n            "latitude": 36.1128,\n            "longitude": -115.1747\n          },\n          "ticket_pricing": "Free",\n           "rating": 4.7,\n          "time_travel": "5-10 mins from hotel"\n        },\n         {\n          "place_name": "Fountains of Bellagio",\n          "place_details": "A free water fountain show set to music, an iconic Vegas experience. Shows happen every 30 minutes in the afternoon and every 15 minutes in the evening.",\n          "place_image_url": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/25/3b/d0/2d/bellagio-fountains-show.jpg?w=1200&h=-1&s=1",\n          "geo_coordinates": {\n            "latitude": 36.1125,\n            "longitude": -115.1741\n          },\n          "ticket_pricing": "Free",\n          "rating": 4.8,\n         "time_travel":"5-10 mins from hotel"\n        },\n        {\n          "place_name": "Walk the Las Vegas Strip",\n          "place_details": "Stroll down the Strip, taking in the sights, sounds, and free attractions. People-watch and soak up the atmosphere.",\n            "place_image_url": "https://www.vegas.com/wp-content/uploads/2023/04/las-vegas-strip-night.jpg",\n          "geo_coordinates": {\n            "latitude": 36.1146,\n            "longitude": -115.1728\n          },\n          "ticket_pricing": "Free",\n          "rating": 4.6,\n            "time_travel":"Walking Distance"\n        },\n        {\n          "place_name": "Mirage Volcano",\n           "place_details":"Watch the free volcano show outside the Mirage Hotel. Shows run hourly in the evening.",\n            "place_image_url":"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/24/6b/a6/86/mirage-volcano.jpg?w=1200&h=-1&s=1",\n          "geo_coordinates":{\n            "latitude":36.1210,\n            "longitude":-115.1716\n          },\n          "ticket_pricing":"Free",\n          "rating":4.5,\n          "time_travel":"10-15 mins from hotel"\n        }\n\n      ]\n    },\n    "day2": {\n      "theme": "Downtown & Fremont Street Experience",\n       "best_time_to_visit": "Evening",\n      "activities": [\n          {\n          "place_name": "Fremont Street Experience",\n          "place_details":"A pedestrian mall with a huge video screen canopy, live music, and street performers. Best visited in the evening when the light show starts.",\n             "place_image_url": "https://www.vegas.com/wp-content/uploads/2023/02/Fremont-Street-Experience-VIVA-Vision.jpg",\n          "geo_coordinates": {\n            "latitude": 36.1708,\n            "longitude": -115.1403\n          },\n          "ticket_pricing": "Free (some activities may cost)",\n          "rating": 4.4,\n             "time_travel": "20-30 mins from hotel"\n        },\n         {\n          "place_name": "Container Park",\n           "place_details":"A unique outdoor shopping and entertainment space built from shipping containers. Live music and family-friendly activities are often available.",\n           "place_image_url":"https://www.vegas.com/wp-content/uploads/2023/03/Container-Park-Playground.jpg",\n          "geo_coordinates": {\n            "latitude": 36.1685,\n            "longitude": -115.1395\n          },\n          "ticket_pricing": "Free (some activities may cost)",\n          "rating": 4.2,\n             "time_travel": "20-30 mins from hotel"\n        },\n        {\n            "place_name": "Golden Nugget Hotel",\n            "place_details":"Visit the famous Gold Nugget, which has an exhibit of gold, and watch the shark tank.",\n              "place_image_url":"https://www.vegas.com/wp-content/uploads/2023/02/Golden-Nugget-Pool-and-Shark-Tank.jpg",\n            "geo_coordinates":{\n              "latitude":36.1678,\n              "longitude":-115.1413\n            },\n             "ticket_pricing": "Free to walk around.",\n             "rating": 4.3,\n               "time_travel":"20-30 mins from hotel"\n        }\n\n      ]\n    },\n    "day3": {\n      "theme": "Nature and Relaxation",\n       "best_time_to_visit": "Morning or late afternoon",\n      "activities": [\n        {\n          "place_name": "Red Rock Canyon National Conservation Area",\n          "place_details": "Scenic drive with hiking trails, stunning rock formations, and desert views. A great way to escape the city\'s hustle and bustle. Entrance fee is $15 per vehicle.",\n           "place_image_url": "https://media.cntraveler.com/photos/57e334c4f736a699286a8a14/16:9/w_2560%2Cc_limit/red-rock-canyon-las-vegas-cr-getty.jpg",\n          "geo_coordinates": {\n            "latitude": 36.1497,\n            "longitude": -115.4165\n          },\n          "ticket_pricing": "$15 per vehicle",\n          "rating": 4.7,\n          "time_travel": "30-40 mins from hotel"\n        },\n         {\n          "place_name": "Ethel M Chocolate Factory & Botanical Cactus Garden",\n          "place_details": "Free self-guided factory tour and a beautiful cactus garden to wander. Samples included!",\n            "place_image_url": "https://cdn.shopify.com/s/files/1/0607/5522/2458/files/IMG_0745_1024x1024.jpg?v=1685564050",\n          "geo_coordinates": {\n            "latitude": 36.0521,\n            "longitude": -115.0579\n          },\n          "ticket_pricing": "Free",\n          "rating": 4.5,\n            "time_travel":"20-30 mins from hotel"\n\n        },\n        {\n        "place_name":"High Roller Observation Wheel",\n        "place_details":"Experience the best views of Vegas from this iconic observation wheel. It is suggested to go during the evening and take in the dazzling views of the city.",\n         "place_image_url":"https://www.vegas.com/wp-content/uploads/2023/04/high-roller-at-night.jpg",\n          "geo_coordinates":{\n            "latitude":36.1162,\n            "longitude":-115.1679\n          },\n          "ticket_pricing": "Starts at $34 per person",\n          "rating":4.6,\n            "time_travel":"10-15 mins from hotel"\n        }\n\n\n      ]\n    }\n  }\n}\n```\n**Notes:**\n\n*   **Prices:** Hotel and ticket prices are estimates and can vary depending on the season and availability. Always check current rates before booking.\n*   **Transportation:** Walking is great for the Strip. Consider using ride-sharing services or public transport (the bus system - The Deuce) for longer distances like getting downtown or to Red Rock Canyon.\n*  **Food:** To stay within your budget, look for affordable food options like fast food, food trucks, or make use of convenience stores for some of your meals.\n*   **Flexibility:** This itinerary is a suggestion, feel free to adjust it to your interests and pace.\n*   **Free Activities:** Make use of all the free attractions like the Bellagio fountains, the Conservatory, the Mirage Volcano, walking the Strip, etc.\n\nEnjoy your trip to Las Vegas!\n',
        },
      ],
    },
  ],
});
